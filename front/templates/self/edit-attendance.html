<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>考勤</title>
    
    <link href="../../css/mui.min.css" rel="stylesheet"/>
    <link href="../../css/style.css" rel="stylesheet"/>
    <link href="../../css/iconfont.css" rel="stylesheet"/>
    <link href="../../css/mui.picker.css" rel="stylesheet" />
	<link href="../../css/mui.poppicker.css" rel="stylesheet" />
    <script src="../../js/mui.min.js"></script>
	<script src="../../js/mui.picker.js"></script>
	<script src="../../js/mui.poppicker.js"></script>
</head>
<body>
<header class="mui-bar mui-bar-nav">
	<button class="mui-action-back mui-btn mui-btn-blue mui-btn-link mui-btn-nav mui-pull-left"><span class="mui-icon mui-icon-left-nav"></span>我的</button>
	<button class="mui-btn mui-btn-blue mui-btn-link mui-pull-right">完成</button>
	<h1 class="mui-title"></h1>
</header>
<style type="text/css">
	.mui-btn-block{
		margin-bottom: 0px;
	}
	.fixed-word{
		float: left;
		margin-left: 20px;
		color: #737373;
	}
</style>
<div class="mui-content">
	<ul class="mui-table-view mui-table-view-chevron" >
		<li class="mui-table-view-cell mui-media">
			<img class="mui-media-object mui-pull-left head-img" id="head-img" src="../../favicon.ico">
			<div class="mui-media-body">
				小明
				<p class='mui-ellipsis'>账号:xiaoming</p>
			</div>
		</li>
	</ul>
	<button id='typePicker' class="mui-btn mui-btn-block" type='button'><span class="fixed-word">请假类型</span><span id="typeResult" style="">请选择请假类型</span></button>
	<button id='startdatePicker' class="mui-btn mui-btn-block" type='button' ><span class="fixed-word">开始日期</span><span id="startDateResult" style="">请选择开始日期</span></button>
	<button id='enddatePicker' class="mui-btn mui-btn-block" type='button' ><span class="fixed-word">结束日期</span><span id="endDateResult" style="">请选择结束日期</span></button>
	
	<div class="mui-input-row" style="margin: 10px 5px;">
		<textarea rows="5" placeholder="请输入请假原因"></textarea>
	</div>
</div>
	

<script type="text/javascript">
	mui.plusReady(function() {
		var self = plus.webview.currentWebview();
		var title = self.title;
		document.getElementsByClassName('mui-title')[0].innerHTML = title;
	});
	(function($, doc) {
		$.init();
		$.ready(function() {
			//普通示例
			var typePicker = new $.PopPicker();
			typePicker.setData([{
				holidayid: 0,
				text: '事假',
				lastday: 10000
			}, {
				holidayid: 1,
				text: '病假'
			},{
				holidayid: 2,
				text: '婚假1'
			},{
				holidayid: 3,
				text: '婚假2'
			},{
				holidayid: 4,
				text: '产假'
			},{
				holidayid: 5,
				text: '陪产假'
			},{
				holidayid: 6,
				text: '年假1'
			},{
				holidayid: 7,
				text: '年假2'
			},{
				holidayid: 8,
				text: '出差'
			}]);
			var typePickerButton = doc.getElementById('typePicker');
			typePickerButton.addEventListener('tap', function(event) {
				typePicker.show(function(items) {
					doc.getElementById('typeResult').innerHTML = items[0].text;
					//返回 false 可以阻止选择框的关闭
					//return false;
				});
			}, false);
			
			document.getElementById("startdatePicker").addEventListener('tap', function() {
				var dDate = new Date();
				//dDate.setFullYear(2014, 7, 16);
				var minDate = new Date();

				var maxDate = new Date();
				maxDate.setFullYear(2016, 11, 31);
				var startDateResult = document.getElementById('startDateResult');
				plus.nativeUI.pickDate(function(e) {
					var d = e.date;
					startDateResult.innerHTML = d.getFullYear() + "-" + (d.getMonth() + 1) + "-" + d.getDate();
				}, function(e) {
					startDateResult.innerHTML = "请选择开始日期";
				}, {
					title: "请选择日期",
					date: dDate,
					minDate: minDate
				});
			});
			
			document.getElementById("enddatePicker").addEventListener('tap', function() {
				var dDate = new Date();
				//dDate.setFullYear(2014, 7, 16);
				var minDate = new Date();

				var maxDate = new Date();
				maxDate.setFullYear(2016, 11, 31);
				var startDateResult = document.getElementById('startDateResult');
				plus.nativeUI.pickDate(function(e) {
					var d = e.date;
					endDateResult.innerHTML = d.getFullYear() + "-" + (d.getMonth() + 1) + "-" + d.getDate();
				}, function(e) {
					endDateResult.innerHTML = "请选择结束日期";
				}, {
					title: "请选择日期",
					date: dDate,
					minDate: minDate
				});
			});
			
		});
	})(mui, document);
	
</script>
</body>
</html>